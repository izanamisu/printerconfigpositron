START GCODE::::////////////////////////////////////////////////////////////////// FOR KLIPPER WITH LED

SET_LED LED=WS2812 RED=0 GREEN=0.1 BLUE=0.25 ; color teal
M140 S{material_bed_temperature_layer_0}     ; set bed temperature and continue
M104 S{material_print_temperature_layer_0}   ; set hot end temperature and continue
G4  P3000 ; wait 3 sec
G28 ; Home all axes
G1 Z10 F300 ; Z raise
G1 X105 Y5 F3000 ; go to parking pos.
SET_LED LED=WS2812 RED=0 GREEN=0 BLUE=0 ; all LED off

;Loading Bar: rainbow

SET_LED LED=WS2812 RED=0.16 GREEN=0 BLUE=0 INDEX=1
G4 P500
SET_LED LED=WS2812 RED=0.15 GREEN=0.01 BLUE=0 INDEX=1
G4 P500
SET_LED LED=WS2812 RED=0.14 GREEN=0.02 BLUE=0 INDEX=2
G4 P500
SET_LED LED=WS2812 RED=0.13 GREEN=0.03 BLUE=0 INDEX=3
G4 P500
SET_LED LED=WS2812 RED=0.12 GREEN=0.04 BLUE=0 INDEX=4
G4 P500
SET_LED LED=WS2812 RED=0.11 GREEN=0.05 BLUE=0 INDEX=5
G4 P500
SET_LED LED=WS2812 RED=0.1 GREEN=0.06 BLUE=0 INDEX=6
G4 P500
SET_LED LED=WS2812 RED=0.09 GREEN=0.07 BLUE=0 INDEX=7
G4 P500
SET_LED LED=WS2812 RED=0.08 GREEN=0.08 BLUE=0 INDEX=8
G4 P500
SET_LED LED=WS2812 RED=0.07 GREEN=0.09 BLUE=0 INDEX=9
G4 P500
SET_LED LED=WS2812 RED=0.06 GREEN=0.1 BLUE=0 INDEX=10
G4 P500
SET_LED LED=WS2812 RED=0.05 GREEN=0.11 BLUE=0 INDEX=11
G4 P500
SET_LED LED=WS2812 RED=0.04 GREEN=0.12 BLUE=0 INDEX=12
G4 P500
SET_LED LED=WS2812 RED=0.03 GREEN=0.13 BLUE=0 INDEX=13
G4 P500
SET_LED LED=WS2812 RED=0.02 GREEN=0.14 BLUE=0 INDEX=14
G4 P500
SET_LED LED=WS2812 RED=0.01 GREEN=0.15 BLUE=0 INDEX=15
G4 P500
SET_LED LED=WS2812 RED=0 GREEN=0.16 BLUE=0 INDEX=16
G4 P500
SET_LED LED=WS2812 RED=0.01 GREEN=0.15 BLUE=0 INDEX=17
G4 P500
SET_LED LED=WS2812 RED=0.02 GREEN=0.14 BLUE=0.01 INDEX=18
G4 P500
SET_LED LED=WS2812 RED=0.03 GREEN=0.13 BLUE=0.02 INDEX=19
G4 P500
SET_LED LED=WS2812 RED=0.04 GREEN=0.12 BLUE=0.03 INDEX=20
G4 P500
SET_LED LED=WS2812 RED=0.05 GREEN=0.11 BLUE=0.04 INDEX=21
G4 P500
SET_LED LED=WS2812 RED=0.06 GREEN=0.1 BLUE=0.05 INDEX=22
G4 P500
SET_LED LED=WS2812 RED=0.07 GREEN=0.09 BLUE=0.06 INDEX=23
G4 P500
SET_LED LED=WS2812 RED=0.08 GREEN=0.08 BLUE=0.07 INDEX=24
G4 P500
SET_LED LED=WS2812 RED=0.09 GREEN=0.07 BLUE=0.08 INDEX=25
G4 P500
SET_LED LED=WS2812 RED=0.1 GREEN=0.06 BLUE=0.09 INDEX=26
G4 P500
SET_LED LED=WS2812 RED=0.11 GREEN=0.05 BLUE=0.1 INDEX=27
G4 P500
SET_LED LED=WS2812 RED=0.12 GREEN=0.04 BLUE=0.11 INDEX=28
G4 P500
SET_LED LED=WS2812 RED=0.13 GREEN=0.03 BLUE=0.12 INDEX=29
G4 P500
SET_LED LED=WS2812 RED=0.14 GREEN=0.02 BLUE=0.13 INDEX=30
G4 P500
SET_LED LED=WS2812 RED=0.15 GREEN=0.01 BLUE=0.14 INDEX=31
G4 P500
SET_LED LED=WS2812 RED=0.16 GREEN=0 BLUE=0.15 INDEX=32
G4 P500
SET_LED LED=WS2812 RED=0.17 GREEN=0 BLUE=0.16 INDEX=33
G4 P500
SET_LED LED=WS2812 RED=0.18 GREEN=0 BLUE=0.17 INDEX=34
G4 P500
SET_LED LED=WS2812 RED=0.18 GREEN=0 BLUE=0.18 INDEX=35
G4 P500
SET_LED LED=WS2812 RED=0.18 GREEN=0 BLUE=0.19 INDEX=36

M109 S{material_print_temperature_layer_0}   ; wait for hot end temperature to reach e.g. 210 Â°C
SET_LED LED=WS2812 RED=0.18 GREEN=0 BLUE=0.20 ; color Purple
G4  P1000 ; wait a second
G29 ; Level bed; Activate bed leveling compensation
SET_LED LED=WS2812 RED=0.1 GREEN=0.05 BLUE=0 ; color Orange - printing color
G4  P1000 ; wait a second
; prime nozzle
;
G1 X1 Y20 F7200 ; move to start
G1 Z0.3 F800 ; Move to layer height
G1 X1 Y120 E12 F800 ; print prime line


END GCODE::::////////////////////////////////////////////////////////////////////////////////////////////////////////////////
SET_LED LED=WS2812 RED=0.05 GREEN=0.2 BLUE=0 ; finished printing Green
M104 S0
M140 S0
;Retract the filament
G92 E1
G1 E-1 F80
G1 X85 Y2 F3000
G91
G1 Z20 F600
G90
M84
G4  P1000 ; wait a second
SET_LED LED=WS2812 RED=0.07 GREEN=0.07 BLUE=0.07 ; defaule white
